<div class="row">
  <div class="col-sm-12">
      <stats-home obras="obras"></stats-home>
  </div>
</div>

<selector-home list="availableGroups" selected-group="selectedGroup" update-fn="changeGroup(group)"></selector-home>

<div class="row">
  <div class="col-sm-12">
      <tipo-chart obras="obras" selected-filter="selectedFilter" filter-fn="filterBubbles(filter)" tipo-colors="tipo_colors" finish-fn="tipoChartFinished()"></tipo-chart>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
      <area-responsable-chart obras="obras" selected-filter="selectedFilter" filter-fn="filterBubbles(filter)"></area-responsable-chart>
  </div>
</div>

<div id="main-chart-container" class="row">
  <div class="col-sm-12">
      <div id="home-chart-container"></div>
  </div>
</div>

<div id="mobile-filler" class="row">

</div>

<!--div class="row">
  <div class="col-md-12">
    <h4>Obras para una Ciudad a tu medida</h4>
    <p>En un solo vistazo, conocé qué estamos haciendo para mejorar la Ciudad.</p>
  </div>
  <div class="col-xs-4">
    Dónde: Comunas
  </div>
  <div class="col-xs-4 text-center">
    Qué hacemos: Tipos de obras
  </div>
  <div class="col-xs-4 text-right">
    Cómo vamos: Etapas
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <div id="sankey-chart-container"></div>
  </div>
</div-->


<!-- Tooltip OBRAS -->
<div id="tooltip-home-chart">
  <button type="button" class="close pull-right" ng-click="closeTooltip()">&times;</button>

  <div class="row">
    <div class="col-xs-12">
      <div id="tooltip-logo-container" class="pull-left"></div>
      <div class="tooltip-title">
        <span class="type" ng-style="{color: selectedObra.color_tipo_obra}">{{selectedObra.data.tipo}}</span>
        <span class="title">{{selectedObra.data.nombre}}</span>
      </div>
    </div>
  </div>

  <div class="tooltip-img" ng-show="tooltipThumb">
    <img class="obra-pic img-responsive" ng-src="{{tooltipThumb}}"/>
  </div>

  <div class="row">
    <div class="col-xs-12">
      <div ng-show="selectedObra.data.porcentaje_avance" class="progress">
        <span class="desc">{{selectedObra.data.etapa}}<span ng-show="selectedObra.data.porcentaje_avance">: {{selectedObra.data.porcentaje_avance}}%</span></span>
        <div class="progress-bar"
          role="progressbar"
            ng-style="{ 'width': selectedObra.data.porcentaje_avance + '%' }">
            <i ng-show="selectedObra.data.porcentaje_avance == 100" class="glyphicon glyphicon-ok"></i>
        </div>
        <div class="progress-w" ng-show="selectedObra.data.porcentaje_avance<22" ng-style="{ 'width': (100 - selectedObra.data.porcentaje_avance) + '%' }"></div>
      </div>
    </div>
  </div>

  <div class="row tooltip-text" ng-show="selectedObra.data.area_responsable">
      <div class="col-xs-2">
        <img src="images/iconos/ministerio.svg"/>
      </div>
      <div class="col-xs-10">
          <p class="tooltip-text">{{selectedObra.data.area_responsable}}}</p>
      </div>
    </div>

  <p class="tooltip-text tooltip-map">
    <span class="tooltip-map-loading" ng-show="!selectedObra.map"><small>Cargando mapa</small></span>
    <span class="tooltip-map-placeholder">
      <img class="obra-pic img-responsive" ng-show="selectedObra.map" ng-src="{{selectedObra.map}}"/>
    </span>
  </p>

    <div class="row tooltip-text" ng-show="selectedObra.data.direccion">
      <div class="col-xs-2">
        <img src="images/iconos/location.svg"/>
      </div>
      <div class="col-xs-10">
          <p class="tooltip-text">{{selectedObra.data.direccion}}<br/>Comuna {{selectedObra.data.comuna}}</p>
      </div>

    </div>
  
  <p class="tooltip-text" ng-show="selectedObra.data.link_interno"><a target="_parent" ng-href="{{selectedObra.data.link_interno}}" class="btn btn-link btn-xs btn-block btn-ver-mas">VER MÁS</a></p>

  <div class="row compromiso-row" ng-show="selectedObra.data.compromiso">
    <div class="col-xs-12">
      <span class="label label-primary">Compromiso de Gobierno</span>
    </div>
  </div>

</div>
